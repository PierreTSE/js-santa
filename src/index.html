<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">

    <style>
        #cv {
            border: 1px solid #000000;
            padding-left: 0;
            padding-right: 0;
            margin-left: auto;
            margin-right: auto;
            display: block;
        }
    </style>

    <title>Le Père Noël est une poubelle</title>
</head>
<body onload="testBrowser()">

<!--Main Canvas to render the game-->
<canvas id="cv" width="800" height="600"></canvas>

<div id="clickHere" style="text-align: center; display: none"><a>Merci de cliquer pour commencer</a></div>

<script src="utilities.js"></script>
<script src="Entity.js"></script>
<script src="AnimatedEntity.js"></script>
<script src="Santa.js"></script>
<script src="Elf.js"></script>
<script src="UnanimatedEntity.js"></script>
<script src="Ball.js"></script>
<script src="Tree.js"></script>
<script src="BadTree.js"></script>
<script src="GoodTree.js"></script>
<script src="Game.js"></script>
<script>
    // instance of the game
    let game = new Game(document.getElementById("cv"));

    // test browser : Chrome needs special management for sound
    function testBrowser() {
        if (navigator.userAgent.indexOf("Chrome") !== -1) {
            document.getElementById("clickHere").style.display = "block"; // shows text
            window.addEventListener("click", startGame)
        } else {
            startGame();
        }
    }

    // start game on page load
    function startGame() {
        window.removeEventListener("click", startGame);
        document.body.removeAttribute("onload");
        document.getElementById("clickHere").style.display = "none";
        game.start();
    }
</script>

</body>
</html>